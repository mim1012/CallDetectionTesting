<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    tools:context=".MainActivity">

    <TextView
        android:id="@+id/titleText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="카카오 T 기사용 테스트 앱"
        android:textSize="24sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <TextView
        android:id="@+id/statusText"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:text="상태: 대기 중"
        android:textSize="16sp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/titleText" />
        
    <!-- 디버그 상태 표시 -->
    <LinearLayout
        android:id="@+id/debugStatusLayout"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:orientation="vertical"
        android:background="#F0F0F0"
        android:padding="8dp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/statusText">
        
        <TextView
            android:id="@+id/debugCaptureStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="📷 화면캡처: 대기"
            android:textSize="14sp" />
            
        <TextView
            android:id="@+id/debugDetectionStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="🔍 버튼감지: 대기"
            android:textSize="14sp" />
            
        <TextView
            android:id="@+id/debugClickStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="👆 클릭시도: 대기"
            android:textSize="14sp" />
            
        <TextView
            android:id="@+id/debugLastCoord"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="📍 좌표: -"
            android:textSize="14sp" />
            
        <TextView
            android:id="@+id/debugAccessibilityStatus"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="♿ 접근성: 확인 중..."
            android:textSize="14sp" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/buttonLayout"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="24dp"
        android:orientation="vertical"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/debugStatusLayout">

        <CheckBox
            android:id="@+id/chkBypassKakao"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="⚡ 테스트 모드 (카카오 앱 체크 우회)"
            android:textColor="#FF5722"
            android:textStyle="bold"
            android:textSize="16sp"
            android:layout_marginBottom="16dp"
            android:padding="8dp"
            android:background="#FFECB3" />

        <Button
            android:id="@+id/btnStartCapture"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="화면 캡처 시작"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnTestTemplate"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="템플릿 매칭 테스트"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnTestOCR"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="OCR 텍스트 추출 테스트"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnTestClick"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="클릭 이벤트 테스트"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnTestFilter"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="필터링 테스트"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnShowOverlay"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="오버레이 표시"
            android:textAllCaps="false" />

        <Button
            android:id="@+id/btnMockCall"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="8dp"
            android:text="Mock 콜 화면 테스트"
            android:textAllCaps="false"
            android:backgroundTint="#FFE500" />

        <Button
            android:id="@+id/btnOpenDebugFolder"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="디버그 폴더 열기"
            android:textAllCaps="false"
            android:layout_marginBottom="8dp" />
            
        <Button
            android:id="@+id/btnViewLogs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="실시간 로그 보기"
            android:textAllCaps="false"
            android:backgroundTint="#4CAF50"
            android:layout_marginBottom="8dp" />
            
        <Button
            android:id="@+id/btnShowFloating"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="플로팅 컨트롤 표시"
            android:textAllCaps="false"
            android:backgroundTint="#FF9800"
            android:layout_marginBottom="8dp" />
            
        <Button
            android:id="@+id/btnOneClickAuto"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="🚀 원클릭 자동 모드"
            android:textAllCaps="false"
            android:backgroundTint="#4CAF50"
            android:layout_marginBottom="8dp" />
            
        <Button
            android:id="@+id/btnQuickDiagnose"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="🏥 빠른 진단"
            android:textAllCaps="false"
            android:backgroundTint="#2196F3"
            android:layout_marginBottom="8dp" />

    </LinearLayout>

    <ScrollView
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:layout_marginTop="16dp"
        android:background="#F0F0F0"
        android:padding="8dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/buttonLayout">

        <TextView
            android:id="@+id/logText"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:fontFamily="monospace"
            android:text="로그가 여기에 표시됩니다..."
            android:textSize="12sp" />

    </ScrollView>

</androidx.constraintlayout.widget.ConstraintLayout>